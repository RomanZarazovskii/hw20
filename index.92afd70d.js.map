{"mappings":"AAEA,MAAMA,EAAOC,SAASC,eAAe,eAC/BC,EAAOF,SAASG,cAAc,YAC9BC,EAAcJ,SAASG,cAAc,cAErCE,EAAM,ICHG,MAKbC,oBACE,MAAMC,EAAM,sEAAyDC,KAAKC,cAAcD,KAAKE,0DAC7F,IACE,MAAMC,QAAUC,MAAML,GACtB,IAAKI,EAAEE,GACL,MAAM,IAAIC,MAAM,SAElB,MAAMC,QAAaJ,EAAEK,OAErB,OADAR,KAAKE,MAAQ,EACNK,EAAKE,I,CACZ,MAAOC,GAEP,MADAC,QAAQC,IAAI,SACNF,C,EAGVG,YACEb,KAAKE,KAAO,C,CApBdY,c,GDyBFhB,eAAeiB,IACb,IACE,MAAMC,QAAenB,EAAIoB,cACzB,GAAsB,IAAlBD,EAAOE,OAET,YADAC,MAAM,wCAUZ,SAAuBH,GACrB,MAAMI,EAASJ,EACZK,KACC,EAACC,aAAEA,EAAYC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAAgB,sDAEjDL,WAAsBC,gFAEEC,wDACAC,2DACGC,wDACHC,iDAKvCC,KAAK,IACRlC,EAAKmC,mBAAmB,YAAaT,E,CAvBnCU,CAAcd,GACdpB,EAAYmC,QAAS,C,CACrB,MAAOrB,GACPC,QAAQD,MAAM,yBAA0BA,E,EA/B5CnB,EAAKyC,iBAAiB,UAOtB,SAAsBC,GAGpB,GAFAA,EAAEC,iBACFrC,EAAII,MAAQgC,EAAEE,cAAcC,SAASnC,MAAMoC,MAAMC,QAC5CzC,EAAII,MAAO,OAEhBJ,EAAIgB,YARJnB,EAAK6C,UAAY,GAUjBxB,G,IAbFnB,EAAYoC,iBAAiB,SAgB7B,WACEjB,G","sources":["src/index.js","src/app.js"],"sourcesContent":["import App from './app.js';\n\nconst form = document.getElementById('search-form');\nconst list = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nconst app = new App();\n\nform.addEventListener('submit', onFormSubmit);\nloadMoreBtn.addEventListener('click', onBtnClick);\n\nfunction clearGallery() {\n  list.innerHTML = '';\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  app.query = e.currentTarget.elements.query.value.trim();\n  if (!app.query) return;\n\n  app.resetPage();\n  clearGallery();\n  fetchImages();\n}\n\nfunction onBtnClick() {\n  fetchImages();\n}\n\nasync function fetchImages() {\n  try {\n    const images = await app.fetchImages();\n    if (images.length === 0) {\n      alert('No images found. Try another query.');\n      return;\n    }\n    renderGallery(images);\n    loadMoreBtn.hidden = false;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n  }\n}\n\nfunction renderGallery(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, tags, likes, views, comments, downloads }) => `\n      <li class=\"photo-card\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\"/>\n        <div class=\"stats\">\n          <p class=\"stats-item\">likes: <b>${likes}</b></p>\n          <p class=\"stats-item\">views: <b>${views}</b></p>\n          <p class=\"stats-item\">comments: <b>${comments}</b></p>\n          <p class=\"stats-item\">saved: <b>${downloads}</b></p>\n        </div>\n      </li>\n    `\n    )\n    .join('');\n  list.insertAdjacentHTML('beforeend', markup);\n}\n","const API_KEY = '47286351-e716f5558799522fb527bbff6';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport default class App {\n  constructor() {\n    query: '';\n    page: 1;\n  }\n  async fetchImages() {\n    const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=${API_KEY}`;\n    try {\n      const r = await fetch(url);\n      if (!r.ok) {\n        throw new Error('Error');\n      }\n      const data = await r.json();\n      this.page += 1;\n      return data.hits;\n    } catch (error) {\n      console.log('Error');\n      throw error;\n    }\n  }\n  resetPage() {\n    this.page = 1;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$form","document","getElementById","$1f0dc3b9307be026$var$list","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$app","async","url","this","query","page","r","fetch","ok","Error","data","json","hits","error","console","log","resetPage","constructor","$1f0dc3b9307be026$var$fetchImages","images","fetchImages","length","alert","markup","map","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","$1f0dc3b9307be026$var$renderGallery","hidden","addEventListener","e","preventDefault","currentTarget","elements","value","trim","innerHTML"],"version":3,"file":"index.92afd70d.js.map"}